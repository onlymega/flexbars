package flexbars.controls
{

import flash.display.Sprite;

//--------------------------------------
//  Events
//--------------------------------------

//--------------------------------------
//  Styles
//--------------------------------------

//--------------------------------------
//  Excluded APIs
//--------------------------------------

//--------------------------------------
//  Other metadata
//--------------------------------------

internal class MatrixBarcode extends Barcode
{
	
	//--------------------------------------------------------------------------
	//
	//  Constructor
	//
	//--------------------------------------------------------------------------
	
	public function MatrixBarcode()
	{
		super();
	}
	
	//--------------------------------------------------------------------------
	//
	//  Constants
	//
	//--------------------------------------------------------------------------
	
	//--------------------------------------------------------------------------
	//
	//  Variables
	//
	//--------------------------------------------------------------------------
	
	protected var matrix:Array /* Boolean[][] */;
	
	//--------------------------------------------------------------------------
	//
	//  Overridden properties
	//
	//--------------------------------------------------------------------------
	
	//--------------------------------------------------------------------------
	//
	//  Properties
	//
	//--------------------------------------------------------------------------
	
	//--------------------------------------------------------------------------
	//
	//  Overridden methods
	//
	//--------------------------------------------------------------------------
	
	//--------------------------------------------------------------------------
	//
	//  Methods
	//
	//--------------------------------------------------------------------------
	
	//----------------------------------
    //  drawBars
    //----------------------------------
	
	override protected function drawBars():void
	{
		if (barsSprite)
			removeChild(barsSprite);
		
		barsSprite = new Sprite();
		
		barsSprite.graphics.beginFill(0x000000);
		
		for (var x:int = 0; x < matrix.length; x++)
		{
			for (var y:int = 0; y < matrix[x].length; y++)
			{
				if ( matrix[x][y] )
					barsSprite.graphics.drawRect(x, y, 1, 1);
			}
		}
		
		barsSprite.graphics.endFill();
		
		addChild(barsSprite);
	}
	
	//----------------------------------
    //  initializeMatrix
    //----------------------------------
	
	protected function initializeMatrix(width:int, height:int):void
	{
		if (width <= 0 || height <= 0)
			throw new ArgumentError("MatrixBarcode initializeMatrix size");
		
		matrix = new Array(width);
		
		for(var i:int = 0; i < width; i++)
		{
			matrix[i] = new Array(height);
		}
	}
}

}